<!doctype html>
<html>
{% load static %}
{% csrf_token %}
<head>
    <script src="{% static "/home/home.js" %}"></script>
    <meta charset="utf-8">
    <title>JST_Report</title>
    <style type="text/css">
        @page {
            size: A4;
            margin: 1cm;
        }
        .tables th,
        .tables td {
            padding: 5px;
            vertical-align: top;
            text-align: left;
        }
        .pdf_title {
            text-align: center;
        }
        .pdf_title h1 {
            font-size:15px
        }
        .total_credits {
            
        }
        .equivilent_courses {
            padding: 0px 64px;
        }
        .equivilent_courses_header {
            padding: 0px 32px;
        }
    </style>
</head>
<body>
    <div class="pdf_title">
        <img src="http://{{ request.get_host }}{% static "pdffiles/OlivetCollegeLogo.jpg" %}" alt="OlivetCollegeLogo">
        <h1>Olivet College Military Course Equivilancy PDF</h1>
    </div>

<div class="container">
    <div class="card">
        <div class="tables">
            
            <h1>Accepted JST Courses:</h1>
            <table id="jst_table" class="list-group">
                <tbody>
                    {#looping through queryset with selected jst course objects#}
                    {% for queryset in data %}
                            {% for Course in queryset.all|slice:":1" %} {#we only want the first object in each queryset all others will be the same#}
                                <tr><td>
                                    {#displaying the course number and course name#}
                                    <h5>JST: {{Course.CourseNumber}} {{Course.CourseName}}</h5>
                                    <div class="equivilent_courses_header">
                                        <h6>Equivelant OC Courses:</h6>
                                    </div>
                                    {#looping through queryset of jst courses again to find equivalent oc courses#}
                                    {% for Courses in queryset.all %}
                                        {% for equivilent_queryset in equivalent_courses %}
                                            {% for equivilency in equivilent_queryset.all %}{#each jst course is the same but with diferent oc equivalencies#}
                                                {% if Courses.CourseEquivalenceNonOC == equivilency.CourseNumber %}
                                                    <div class="equivilent_courses">
                                                        <p>{{equivilency.CourseNumber}} {{equivilency.CourseName}}:</p>
                                                        <div class="total_credits">
                                                            credits: {{equivilency.CourseCredit}}
                                                        </div>
                                                    </div>
                                                {% endif %}
                                            {% endfor %}
                                        {% endfor %}
                                    {% endfor %}
                                {% endfor %}
                            <div class="total_credits">
                                Total Transferable Credits:
                            </div>
                        </td></tr>
                    {% endfor %}
                </tbody>
            </table>
            <h1>Courses In Review:</h1>
            <table id="jst_courses_under_review" class="list-group">
                <tbody>
                    <tr><td>None</td></tr>
                </tbody>
            </table>
            <h1>Rejected Courses:</h1>
            <table id="jst_rejected_courses" class="list-group">
                <tbody>
                    <tr><td>None</td></tr>
                </tbody>
            </table>
        </div>
    </div>
</div>

</body>
</html>
